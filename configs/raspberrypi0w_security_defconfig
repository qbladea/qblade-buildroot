BR2_arm=y
BR2_arm1176jzf_s=y
BR2_ARM_EABIHF=y

# Linux headers same as kernel, a 5.10 series
BR2_PACKAGE_HOST_LINUX_HEADERS_CUSTOM_5_10=y

BR2_TOOLCHAIN_BUILDROOT_CXX=n

BR2_LINUX_KERNEL=y
BR2_LINUX_KERNEL_CUSTOM_TARBALL=y
BR2_LINUX_KERNEL_CUSTOM_TARBALL_LOCATION="$(call github,raspberrypi,linux,967d45b29ca2902f031b867809d72e3b3d623e7a)/linux-967d45b29ca2902f031b867809d72e3b3d623e7a.tar.gz"
BR2_LINUX_KERNEL_USE_CUSTOM_CONFIG=y
BR2_LINUX_KERNEL_CUSTOM_CONFIG_FILE="board/raspberrypi0w_security/linux.config"
BR2_LINUX_KERNEL_DTS_SUPPORT=y
BR2_LINUX_KERNEL_INTREE_DTS_NAME="bcm2708-rpi-zero-w"
BR2_LINUX_KERNEL_NEEDS_HOST_OPENSSL=y

BR2_PACKAGE_RPI_FIRMWARE=y

# Required tools to create the SD image
BR2_PACKAGE_HOST_DOSFSTOOLS=y
BR2_PACKAGE_HOST_GENIMAGE=y
BR2_PACKAGE_HOST_MTOOLS=y

# Required tools to compress initrd and kernel
BR2_PACKAGE_HOST_ZSTD=y

# Filesystem / image
BR2_ROOTFS_POST_BUILD_SCRIPT="board/raspberrypi0w_security/post-build.sh"
BR2_ROOTFS_POST_IMAGE_SCRIPT="board/raspberrypi0w_security/post-image.sh"
BR2_ROOTFS_POST_SCRIPT_ARGS=""

# Hostname
BR2_TARGET_GENERIC_HOSTNAME="security"

# Issue
BR2_TARGET_GENERIC_ISSUE="Welcome to Security Linux"

# Security
BR2_PIC_PIE=y
BR2_SSP_ALL=y
BR2_RELRO_FULL=y

# rootfs
BR2_ROOTFS_MERGED_USR=y

# 多語言支持
BR2_SYSTEM_ENABLE_NLS=y

# timezone
BR2_TARGET_TZ_INFO=y

# File system tools
BR2_PACKAGE_BTRFS_PROGS=y
BR2_PACKAGE_DOSFSTOOLS=y
BR2_PACKAGE_DOSFSTOOLS_FSCK_FAT=y
BR2_PACKAGE_DOSFSTOOLS_MKFS_FAT=y


# 磁盤加密
BR2_PACKAGE_CRYPTSETUP=y

# 隨機數生產
BR2_PACKAGE_HAVEGED=y

# 禁用網絡
BR2_PACKAGE_IFUPDOWN_SCRIPTS=y

# 文本編輯器
BR2_PACKAGE_ED=y

# 使用initramfs存放rootfs
BR2_TARGET_ROOTFS_CPIO=y
BR2_TARGET_ROOTFS_CPIO_ZSTD=y
BR2_TARGET_ROOTFS_INITRAMFS=y